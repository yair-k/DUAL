{"ast":null,"code":"import _taggedTemplateLiteral from\"C:/Users/yairk/OneDrive/Desktop/wasd-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject;import React,{useRef,useEffect}from'react';import Chart from'chart.js/auto';import styled from'styled-components';import{useSelector}from'react-redux';import{jsx as _jsx}from\"react/jsx-runtime\";var ChartContainer=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  height: 200px !important;\\n  position: relative;\\n\"])));var StatsChart=function StatsChart(_ref){var analysis=_ref.analysis;var chartRef=useRef();var triggerDarkMode=useSelector(function(state){return state.triggerDarkMode;});useEffect(function(){var primary=getComputedStyle(document.body).getPropertyValue('--color-primary');var secondary=getComputedStyle(document.body).getPropertyValue('--color-secondary');var textColor=getComputedStyle(document.body).getPropertyValue('--color-text-main');var myChart=new Chart(chartRef.current.getContext('2d'),{type:'scatter',data:{datasets:[{label:'Errors',data:analysis.filter(function(item){return!item.correct;}).map(function(item){var x=item.timePressed;var y=item.type;return{x:x,y:y};}),borderWidth:4,tension:0,backgroundColor:primary,borderColor:primary,pointStyle:'crossRot',radius:10,stack:'combined',type:'scatter'},{label:'Key Input',data:analysis.map(function(item){return{y:item.type,x:item.timePressed};}),borderWidth:3,tension:0,backgroundColor:secondary,borderColor:secondary,stack:'combined'}]},options:{responsive:true,maintainAspectRatio:false,animation:false,plugins:{legend:{display:false},tooltip:{callbacks:{label:function label(context){return\"\".concat(context.raw.y.charAt(0).toUpperCase()+context.raw.y.slice(1),\" key at \").concat(context.raw.x.toFixed(2),\" seconds\");}}}},scales:{y:{title:{padding:20,color:textColor,font:{family:\"'Space Mono'\"}},type:'category',ticks:{color:textColor,font:{family:\"'Space Mono'\"},align:'center',padding:0,callback:function callback(index,value,values){return index===0?'Arrow Inputs':'Letter Inputs';}}},x:{type:'linear',ticks:{color:textColor,font:{family:\"'Space Mono'\"}}}}}});return function(){myChart.destroy();};// eslint-disable-next-line react-hooks/exhaustive-deps\n},[analysis,triggerDarkMode]);return/*#__PURE__*/_jsx(ChartContainer,{children:/*#__PURE__*/_jsx(\"canvas\",{id:\"myChart\",ref:chartRef})});};export default StatsChart;","map":{"version":3,"names":["React","useRef","useEffect","Chart","styled","useSelector","ChartContainer","div","StatsChart","analysis","chartRef","triggerDarkMode","state","primary","getComputedStyle","document","body","getPropertyValue","secondary","textColor","myChart","current","getContext","type","data","datasets","label","filter","item","correct","map","x","timePressed","y","borderWidth","tension","backgroundColor","borderColor","pointStyle","radius","stack","options","responsive","maintainAspectRatio","animation","plugins","legend","display","tooltip","callbacks","context","raw","charAt","toUpperCase","slice","toFixed","scales","title","padding","color","font","family","ticks","align","callback","index","value","values","destroy"],"sources":["C:/Users/yairk/OneDrive/Desktop/wasd-master/src/components/Game/Result/StatsCharts/StatsChart.js"],"sourcesContent":["import React, { useRef, useEffect } from 'react'\nimport Chart from 'chart.js/auto';\nimport styled from 'styled-components'\nimport { useSelector } from 'react-redux'\n\nconst ChartContainer = styled.div`\n  height: 200px !important;\n  position: relative;\n`\n\nconst StatsChart = ({ analysis }) => {\n  const chartRef = useRef()\n  const triggerDarkMode = useSelector(state => state.triggerDarkMode)\n\n  useEffect(() => {\n    const primary = getComputedStyle(document.body).getPropertyValue('--color-primary');\n    const secondary = getComputedStyle(document.body).getPropertyValue('--color-secondary');\n    const textColor = getComputedStyle(document.body).getPropertyValue('--color-text-main');\n\n    const myChart = new Chart(chartRef.current.getContext('2d'), {\n      type: 'scatter',\n      data: {\n          datasets: [\n            {\n              label: 'Errors',\n              data:\n              analysis.filter(item => !item.correct).map((item) => {\n                const x = item.timePressed\n                const y = item.type\n                return {\n                  x: x,\n                  y: y\n                }\n              }),\n              borderWidth: 4,\n              tension: 0,\n              backgroundColor: primary,\n              borderColor: primary,\n              pointStyle: 'crossRot',\n              radius: 10,\n              stack: 'combined',\n              type: 'scatter'\n            },\n            {\n              label: 'Key Input',\n              data: analysis.map(item => ({y: item.type, x: item.timePressed})),\n              borderWidth: 3,\n              tension: 0,\n              backgroundColor: secondary,\n              borderColor: secondary,\n              stack: 'combined'\n            }\n        ]\n      },\n      options: {\n        responsive: true,\n        maintainAspectRatio: false,\n        animation: false,\n        plugins: {\n          legend: {\n            display: false\n          },\n          tooltip: {\n            callbacks: {\n              label: function (context) {\n                return `${context.raw.y.charAt(0).toUpperCase() + context.raw.y.slice(1)} key at ${context.raw.x.toFixed(2)} seconds`\n              }\n            }\n          }\n        },\n        scales: {\n            y: {\n              title: {\n                padding: 20,\n                color: textColor,\n                font: {\n                  family: \"'Space Mono'\"\n                }\n              },\n              type: 'category',\n              ticks: {\n                color: textColor,\n                font: {\n                  family: \"'Space Mono'\"\n                },\n                align: 'center',\n                padding: 0,\n                callback: function(index, value, values) {\n                  return index === 0 ? 'Arrow Inputs' : 'Letter Inputs'\n                }\n              }\n            },\n            x: {\n              type: 'linear',\n              ticks: {\n                color: textColor,\n                font: {\n                  family: \"'Space Mono'\"\n                }\n              }\n            }\n        }\n      }\n    })\n    return () => {\n      myChart.destroy()\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [analysis, triggerDarkMode])\n\n  return (\n    <ChartContainer>\n      <canvas id=\"myChart\" ref={chartRef}></canvas>\n    </ChartContainer>\n  )\n}\n\nexport default StatsChart"],"mappings":"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"},"metadata":{},"sourceType":"module"}